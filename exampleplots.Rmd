---
title: "Example Plots"
output: 
  html_document:
    toc: true
    toc_float: true
---

This page has shows some examples of plots I can create using plotly.

# Examples of Plotly

## Initial Set-Up

```{r libraries}

library(tidyverse)
library(dplyr)
library(p8105.datasets)
library(plotly)

```

## Loading and Cleaning Data

```{r}

data(instacart)

```

#Filtering instacart data to the 10 most popular aisles

```{r}

instacart_df = instacart %>%
  filter(aisle %in% c("fresh vegetables", "fresh fruits", "packaged vegetables fruits",  "yogurt", "packaged cheese", "water seltzer sparkling water", "milk", "chips pretzels",  "soy lactosefree"))

```

# First Plot

```{r}

instacart_df %>% 
  group_by(aisle) %>%
  summarize(n = n()) %>%
  mutate(
    aisle = as.factor(aisle),
    aisle = fct_reorder(aisle, n)
  ) %>%
  plot_ly(x = ~aisle, y = ~n, color = ~aisle, type = "bar", colors = "viridis")

```

# Plot 2

```{r}

instacart_df %>% 
  mutate(
    order_dow = as.factor(as.character(order_dow)),
    order_dow = fct_recode(order_dow, 
                           "Sunday" = "0", 
                           "Monday" = "1", 
                           "Tuesday" = "2", 
                           "Wednesday" = "3", 
                           "Thursday" = "4", 
                           "Friday" = "5", 
                           "Saturday" = "6")) %>%
  filter(product_name == "Baby Swiss Cheese") %>% 
  plot_ly(y = ~order_hour_of_day, 
          color = ~order_dow, 
          type = "box", 
          colors = "viridis") %>% 
  layout(
    title = 'Distribution of Order Times for String Cheese by Day of Week', 
    xaxis = list(title = 'Order Day of Week'),
    yaxis = list(title = 'Order Hour of Day', range = c(0,24)))

```


```{r}

instacart_df %>% filter(aisle == "packaged cheese") %>%
  group_by(product_name) %>%
  summarize(
    n = n()
  )



```




